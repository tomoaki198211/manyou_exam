<div class="form_content">
  <h1>タスク</h1>
  <%= form_with(model: task, local: true) do |form| %>
    <% if task.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(task.errors.count, "error") %> このプロパティの保存を禁止しました</h2>

        <ul>
          <% task.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      <%= form.label :task_name, "タスク名" %>
      <%= form.text_field :task_name, class: 'form-control mb-3' %>
    </div>

    <div class="field">
      <%= form.label :task_detail, "内容" %>
      <%= form.text_area :task_detail, class: 'form-control mb-3' %>
    </div>

    <div class="field">
      <%= form.label :expiry_date, "終了期限" %>
      <%= form.date_field :expiry_date, class: 'form-control mb-3'  %>
    </div>

    <div class="field">
      <%= form.label :status, "ステータス" %>
      <%= form.select :status, Task.statuses.keys.to_a,{},class: 'form-control mb-3'  %>
    </div>

    <div class="field">
      <%= form.label :priority, "優先順位" %>
      <%= form.select :priority, Task.priorities.keys.to_a, {},class: 'form-control mb-5'  %>
    </div>
    <div class="mb-5">
      <%= form.collection_check_boxes( :label_ids, Label.all, :id, :label_name, include_hidden: false) do |c| %>
        <%= c.label class: "chkl" do %>
          <%= c.check_box class: "chk" do %>
            <%= c.check_box + c.text %>
          <% end %>
            <%= c.label{c.text} %>
        <% end %>
      <% end %>
    </div>

    <%= form.submit class:'btn btn-primary mb-5' %>
  <% end %>
  <%= link_to '戻る', tasks_path, class: 'btn btn-outline-success' %>
</div>
